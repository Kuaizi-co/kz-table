(function(t){function e(e){for(var a,l,i=e[0],s=e[1],u=e[2],d=0,f=[];d<i.length;d++)l=i[d],r[l]&&f.push(r[l][0]),r[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},r={app:0},o=[];function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/kz-table/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("1d50")},"0572":function(t,e,n){},"1d50":function(t,e,n){"use strict";n.r(e);n("5932"),n("5cc6"),n("3925"),n("b961");var a=n("627c"),r=n("5c96"),o=n.n(r),l=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("el-table")]),t._m(0),n("br"),n("br"),n("h2",[t._v("All Columns auto-fit")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleAddColumn}},[t._v("Add Column")]),n("el-button",{attrs:{type:"success"},on:{click:t.handleAddRows}},[t._v("Add Row")]),n("el-table",{attrs:{data:t.data,border:"","auto-fit-column":""}},[n("el-table-column",{attrs:{label:"姓名2222",prop:"name",fixed:""}}),n("el-table-column",{attrs:{label:"年龄3333",prop:"age"}}),t._l(t.options,function(t,e){return n("el-table-column",{key:e,attrs:{label:t.label,prop:t.prop,sortable:"","auto-fit":""}})}),n("el-table-column",{attrs:{label:"年龄",width:"100"}},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],2),n("h2",[t._v("Some Columns auto-fit (name & age)")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleAddColumn}},[t._v("Add Column")]),n("el-button",{attrs:{type:"success"},on:{click:t.handleAddRows}},[t._v("Add Row")]),n("el-table",{attrs:{data:t.data,border:"","auto-fit-column":"","fit-styles":t.styles,"fit-columns":["name","age","salary"]}},[n("el-table-column",{attrs:{label:"Name",prop:"name",fixed:""}}),n("el-table-column",{attrs:{label:"Age",prop:"age"}}),n("el-table-column",{attrs:{label:"Salary",prop:"salary",formatter:t.formatter}}),t._l(t.options,function(t,e){return n("el-table-column",{key:e,attrs:{label:t.label,prop:t.prop,sortable:"","auto-fit":""}})}),n("el-table-column",{attrs:{label:"年龄",width:"100"}},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],2),n("h2",[t._v("Show Summary")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleAddColumn}},[t._v("Add Column")]),n("el-button",{attrs:{type:"success"},on:{click:t.handleAddRows}},[t._v("Add Row")]),n("el-button",{attrs:{type:"success"},on:{click:t.handleReverseColumn}},[t._v("Reverse Column")]),n("el-button",{attrs:{type:"success"},on:{click:t.handleDynamicAutoColumn}},[t._v("Dynamic auth-width Column")]),n("el-table",{attrs:{data:t.data,border:"","auto-fit-column":"","show-summary":"","summary-method":t.summaryMethod,"fit-styles":t.styles,"fit-columns":t.fitColumns}},[t._l(t.autoWidthColumns,function(e,a){return n("el-table-column",{key:a,attrs:{label:e.label,prop:e.name,formatter:t.formatter,fixed:""}})}),t._l(t.options,function(t,e){return n("el-table-column",{key:10+e,attrs:{label:t.label,prop:t.prop,sortable:"","auto-fit":""}})}),n("el-table-column",{attrs:{label:"年龄",width:"100"}},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],2),n("div",{staticClass:"copyright"},[t._v("© www.kuaizi.ai")])],1)}),i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"feature"},[n("a",{staticClass:"el-button el-button--primary is-plain",attrs:{href:"https://github.com/Kuaizi-co/kz-table/blob/master/App.vue"}},[n("i",{staticClass:"el-icon-view"}),t._v("View Resource")]),n("a",{staticClass:"el-button el-button--primary is-plain",attrs:{href:"https://github.com/Kuaizi-co/kz-table"}},[n("i",{staticClass:"el-icon-star-on"}),t._v("star")])])}],s=n("c62a"),u=(n("dd84"),n("4cce"),n("62cc"),n("f9a1"),n("3f78"),n("a0b5"),n("bf57"),n("a76b"),n("4198"),function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Number(t),r=!1;return null===t||isNaN(a)?"-":(r=/\.\d{1,}/g.test(t),a=r?a.toFixed(n):String(a),e=a.split("."),"".concat(e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(r?".":"")+(e[1]||"")).replace(/\.$/,""))}),c={data:function(){return{search:"",data:[{name:"张三",age:30,salary:32e4,remark:"sdfsdfsdfsdfsdfsdff"},{name:"李四",age:24,salary:525e3,remark:"sdfsdfsdfsdfsdfsdff"}],options:[],autoWidthColumns:[{name:"name",label:"Name"},{name:"age",label:"Age"},{name:"salary",label:"Salary"},{name:"remark",label:"Remark"}],styles:{header:"font-size: 14px; font-weight: bold; padding: 0 10px;",body:"font-size: 14px; padding: 0 10px;"}}},computed:{fitColumns:function(){return this.autoWidthColumns.map(function(t){return t.name})}},methods:{formatter:function(t,e,n){return"salary"!==e.property?n:u(n)},handleAddColumn:function(){this.options.push({prop:"remark",label:"备注"})},handleAddRows:function(){this.data.push({name:"tommyshao",age:30,salary:15e3,remark:"sdfsdfsdf什么备注，不准换行啊啊啊啊啊啊啊啊啊啊啊"})},summaryMethod:function(t){var e=t.columns,n=t.data,a=["salary"],r=[];return e.forEach(function(t,e){if(0!==e){var o=n.map(function(e){return Number(e[t.property])});!o.every(function(t){return isNaN(t)})&&a.includes(t.property)?(r[e]=o.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:t+e},0),r[e]=u(r[e])):r[e]=""}else r[e]="合计"}),r},handleReverseColumn:function(){this.autoWidthColumns.reverse()},handleDynamicAutoColumn:function(){this.autoWidthColumns=[{name:"remark",label:"Remark"}].concat(Object(s["a"])(this.autoWidthColumns.slice(0,2)))}}},d=c,f=(n("e5cd"),n("a6f2")),m=Object(f["a"])(d,l,i,!1,null,null,null);m.options.__file="App.vue";var p=m.exports,h=(n("8cec"),n("16ef"),n("bd90")),b=function(){var t="__get-text-rect",e=document.getElementById(t);return e||(e=document.createElement("div"),e.id=t,e.style.cssText="visiblity:hidden; opacity: 0; position: fixed; top: -9999px; left: -9999px",document.body.appendChild(e)),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"font-size: 14px; padding: 0 10px;";if("string"!==typeof t)return{};var a='<span style="box-sizing: border-box;'+n+'">'+t+"</span>";e.innerHTML=a;var r=e.getBoundingClientRect();return r}},y=function(t){return Array.isArray(t)?t.reduce(function(t,e){for(var n in e)t[n]||(t[n]=[]),t[n].push(e[n]);return t},{}):{}},v=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,r={value:"",length:0,index:-1};return Array.isArray(t)&&t.forEach(function(t,o){var l=String(e?e(n,a,t||""):t||"");l.length>r.length&&(r={value:l,length:l.length,index:o})}),r},g=function(t){var e=[];return t.summaryMethod?e=t.summaryMethod({columns:t.columns,data:t.store.states.data}):t.columns.forEach(function(n,a){if(0!==a){var r=t.store.states.data.map(function(t){return Number(t[n.property])}),o=[],l=!0;r.forEach(function(t){if(!isNaN(t)){l=!1;var e=(""+t).split(".")[1];o.push(e?e.length:0)}});var i=Math.max.apply(null,o);e[a]=l?"":r.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:parseFloat((t+e).toFixed(Math.min(i,20)))},0)}else e[a]=t.sumText}),e},C=b(),x={name:"ElTable",extends:r["Table"],props:{autoFitColumn:{type:Boolean,default:!1},fitStyles:{default:function(){return{header:"font-size: 14px; font-weight: bold; padding: 0 10px;",body:"font-size: 14px; padding: 0 10px;"}},validator:function(t){return!("object"!==Object(h["a"])(t)||!t)&&("header"in t&&"body"in t)}},fitColumns:{type:Array}},watch:{data:function(){var t=this;this.$nextTick(function(){return t.setAutoFitColumn()})},columns:function(){var t=this;this.$nextTick(function(){return t.setAutoFitColumn()})},fitColumns:function(){var t=this;this.$nextTick(function(){return t.setAutoFitColumn()})}},methods:{setAutoFitColumn:function(){if(this.autoFitColumn&&this.data){var t=y(this.data);this.handlerAutoFitColumn(t)}},handlerAutoFitColumn:function(t){var e,n=this,a=this.border?1:0,r=this.layout.getFlattenColumns(),o=this.showSummary?g(this):[],l=0;this.columns.forEach(function(i,s){var u=r.find(function(t){return t.id===i.id});if(u&&(!n.fitColumns||0!==n.fitColumns.length)&&(!n.fitColumns||!n.fitColumns.length||n.fitColumns.includes(u.property))){var c=C(i.label,n.fitStyles.header),d=c.width+a||u.minWidth,f=v(t[u.property],i.formatter,[],i),m=C(f.value,n.fitStyles.body),p=m.width+a||u.minWidth;n.showSummary&&(e=C(o[s]||"",n.fitStyles.body),l=e.width+a||u.minWidth),u.minWidth=Math.ceil(Math.max(i.sortable?d+17:d,p,l))}}),this.doLayout(),this.$emit("doLayout")}}};a["default"].use(o.a),a["default"].component(x.name,x),new a["default"]({el:"#app",render:function(t){return t(p)}})},e5cd:function(t,e,n){"use strict";var a=n("0572"),r=n.n(a);r.a}});
//# sourceMappingURL=app.bbaabf87.js.map